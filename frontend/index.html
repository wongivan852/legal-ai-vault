<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vault AI Platform - Multi-Domain Agentic AI</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-logo-section">
                    <img src="static/images/deepbase-logo.jpg" alt="Deepbase Logo" class="header-logo">
                    <div class="header-text">
                        <h1>ü§ñ Vault AI Platform</h1>
                        <p class="subtitle">Multi-Domain Agentic AI Platform - Legal | HR | Customer Service | Analysis</p>
                    </div>
                </div>
                <div class="health-status" id="healthStatus">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="statusText">Checking status...</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="agents">ü§ñ AI Agents</button>
                <button class="tab-btn" data-tab="workflows">üîÑ Workflows</button>
                <button class="tab-btn" data-tab="generate">üí¨ Text Generation</button>
                <button class="tab-btn" data-tab="models">ü§ñ Models</button>
                <button class="tab-btn" data-tab="docs">üìö API Docs</button>
            </div>

            <!-- Tab Content: AI Agents -->
            <div class="tab-content active" id="agents-tab">
                <div class="panel">
                    <h2>ü§ñ AI Agents - Specialized Domain Experts</h2>
                    <p class="panel-desc">Select an agent below to interact with specialized AI assistants</p>

                    <!-- Agent Sub-Tabs -->
                    <div class="agent-tabs">
                        <button class="agent-tab-btn active" data-agent="legal">‚öñÔ∏è Legal Research</button>
                        <button class="agent-tab-btn" data-agent="hr">üë• HR Policy</button>
                        <button class="agent-tab-btn" data-agent="cs">üí¨ Customer Service</button>
                        <button class="agent-tab-btn" data-agent="analysis">üìä Analysis</button>
                        <button class="agent-tab-btn" data-agent="synthesis">üîó Synthesis</button>
                        <button class="agent-tab-btn" data-agent="validation">‚úÖ Validation</button>
                    </div>

                    <!-- Legal Research Agent -->
                    <div class="agent-content active" id="legal-agent">
                        <div class="agent-header">
                            <h3>‚öñÔ∏è Legal Research Agent</h3>
                            <p>Search 1,699 HK ordinances and get legal research assistance</p>
                        </div>
                        <form id="legalAgentForm" class="form">
                            <div class="form-group">
                                <label for="legalQuestion">Legal Question *</label>
                                <textarea
                                    id="legalQuestion"
                                    class="textarea-field"
                                    rows="4"
                                    required
                                    placeholder="Example: What are the director duties under the Companies Ordinance?"
                                ></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="legalAgentBtn">
                                    <span class="btn-text">üîç Research Legal Question</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Researching...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearLegal">Clear</button>
                            </div>
                        </form>
                        <div id="legalAgentResult" class="result-panel" style="display: none;"></div>
                    </div>

                    <!-- HR Policy Agent -->
                    <div class="agent-content" id="hr-agent">
                        <div class="agent-header">
                            <h3>üë• HR Policy Agent</h3>
                            <p>Get answers about HR policies, benefits, and employee procedures</p>
                        </div>
                        <form id="hrAgentForm" class="form">
                            <div class="form-group">
                                <label for="hrQuestion">HR Question *</label>
                                <textarea
                                    id="hrQuestion"
                                    class="textarea-field"
                                    rows="3"
                                    required
                                    placeholder="Example: How many vacation days do employees get after 3 years?"
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="hrContext">Policy Context (Optional)</label>
                                <textarea
                                    id="hrContext"
                                    class="textarea-field"
                                    rows="6"
                                    placeholder="Paste your HR policy documents here. Example:&#10;&#10;VACATION POLICY: New employees receive 10 days. After 1 year: 15 days. After 3 years: 20 days. After 5 years: 25 days. Vacation requests require 2 weeks advance notice and manager approval."
                                ></textarea>
                                <small class="form-hint">üí° Tip: Paste your employee handbook or policy documents here for accurate answers</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="hrAgentBtn">
                                    <span class="btn-text">üíº Get HR Answer</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Analyzing policy...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearHR">Clear</button>
                            </div>
                        </form>
                        <div id="hrAgentResult" class="result-panel" style="display: none;"></div>
                    </div>

                    <!-- Customer Service Agent -->
                    <div class="agent-content" id="cs-agent">
                        <div class="agent-header">
                            <h3>üí¨ Customer Service Agent</h3>
                            <p>Get support answers based on your documentation and FAQs</p>
                        </div>
                        <form id="csAgentForm" class="form">
                            <div class="form-group">
                                <label for="csQuestion">Support Question *</label>
                                <textarea
                                    id="csQuestion"
                                    class="textarea-field"
                                    rows="3"
                                    required
                                    placeholder="Example: How do I reset my password?"
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="csContext">Support Documentation (Optional)</label>
                                <textarea
                                    id="csContext"
                                    class="textarea-field"
                                    rows="6"
                                    placeholder="Paste your support documentation or FAQs here. Example:&#10;&#10;PASSWORD RESET: 1. Go to login page 2. Click Forgot Password 3. Enter your email 4. Check email for reset link (valid 24 hours) 5. Click link and create new password 6. Password must be 8+ characters with uppercase, lowercase, and numbers."
                                ></textarea>
                                <small class="form-hint">üí° Tip: Paste FAQs, user guides, or troubleshooting docs for better answers</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="csAgentBtn">
                                    <span class="btn-text">üé´ Get Support Answer</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Finding solution...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearCS">Clear</button>
                            </div>
                        </form>
                        <div id="csAgentResult" class="result-panel" style="display: none;"></div>
                    </div>

                    <!-- Analysis Agent -->
                    <div class="agent-content" id="analysis-agent">
                        <div class="agent-header">
                            <h3>üìä Analysis Agent</h3>
                            <p>Extract insights, trends, and actionable recommendations from text</p>
                        </div>
                        <form id="analysisAgentForm" class="form">
                            <div class="form-group">
                                <label for="analysisText">Text to Analyze *</label>
                                <textarea
                                    id="analysisText"
                                    class="textarea-field"
                                    rows="8"
                                    required
                                    placeholder="Example: Q4 2024 Performance Summary: Revenue increased 25% to $5.2M compared to Q3. New product line contributed $2.1M (40% of revenue). Expanded to APAC, EU, and LATAM markets. Customer retention improved from 65% to 78%..."
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="analysisFocus">Analysis Focus (Optional)</label>
                                <input
                                    type="text"
                                    id="analysisFocus"
                                    class="input-field"
                                    placeholder="Example: Identify key performance indicators and trends"
                                >
                                <small class="form-hint">üí° Tip: Specify what you want to focus on (e.g., "trends", "risks", "opportunities")</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="analysisAgentBtn">
                                    <span class="btn-text">üìà Analyze</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Analyzing...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearAnalysis">Clear</button>
                            </div>
                        </form>
                        <div id="analysisAgentResult" class="result-panel" style="display: none;"></div>
                    </div>

                    <!-- Synthesis Agent -->
                    <div class="agent-content" id="synthesis-agent">
                        <div class="agent-header">
                            <h3>üîó Synthesis Agent</h3>
                            <p>Combine information from multiple sources into comprehensive insights</p>
                        </div>
                        <form id="synthesisAgentForm" class="form">
                            <div class="form-group">
                                <label>Source Documents *</label>
                                <div id="synthesisSourcesContainer">
                                    <div class="synthesis-source">
                                        <input type="text" class="input-field source-title" placeholder="Source 1 Title (e.g., Customer Survey)" required>
                                        <textarea class="textarea-field source-content" rows="4" placeholder="Source 1 Content" required></textarea>
                                    </div>
                                    <div class="synthesis-source">
                                        <input type="text" class="input-field source-title" placeholder="Source 2 Title (e.g., App Store Reviews)" required>
                                        <textarea class="textarea-field source-content" rows="4" placeholder="Source 2 Content" required></textarea>
                                    </div>
                                    <div class="synthesis-source">
                                        <input type="text" class="input-field source-title" placeholder="Source 3 Title (e.g., Support Tickets)">
                                        <textarea class="textarea-field source-content" rows="4" placeholder="Source 3 Content (optional)"></textarea>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-secondary" id="addSource" style="margin-top: 10px;">+ Add Another Source</button>
                            </div>
                            <div class="form-group">
                                <label for="synthesisFocus">Synthesis Focus (Optional)</label>
                                <input
                                    type="text"
                                    id="synthesisFocus"
                                    class="input-field"
                                    placeholder="Example: Create comprehensive product improvement plan"
                                >
                                <small class="form-hint">üí° Tip: What should the synthesis focus on? (e.g., "action items", "common themes")</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="synthesisAgentBtn">
                                    <span class="btn-text">üîó Synthesize</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Synthesizing...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearSynthesis">Clear</button>
                            </div>
                        </form>
                        <div id="synthesisAgentResult" class="result-panel" style="display: none;"></div>
                    </div>

                    <!-- Validation Agent -->
                    <div class="agent-content" id="validation-agent">
                        <div class="agent-header">
                            <h3>‚úÖ Validation Agent</h3>
                            <p>Check consistency and identify discrepancies across documents</p>
                        </div>
                        <form id="validationAgentForm" class="form">
                            <div class="form-group">
                                <label>Documents to Validate *</label>
                                <div id="validationDocsContainer">
                                    <div class="validation-doc">
                                        <input type="text" class="input-field doc-title" placeholder="Document 1 Title (e.g., Employee Handbook)" required>
                                        <textarea class="textarea-field doc-content" rows="4" placeholder="Document 1 Content" required></textarea>
                                    </div>
                                    <div class="validation-doc">
                                        <input type="text" class="input-field doc-title" placeholder="Document 2 Title (e.g., HR Website)" required>
                                        <textarea class="textarea-field doc-content" rows="4" placeholder="Document 2 Content" required></textarea>
                                    </div>
                                    <div class="validation-doc">
                                        <input type="text" class="input-field doc-title" placeholder="Document 3 Title (e.g., Offer Letter)">
                                        <textarea class="textarea-field doc-content" rows="4" placeholder="Document 3 Content (optional)"></textarea>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-secondary" id="addValidationDoc" style="margin-top: 10px;">+ Add Another Document</button>
                            </div>
                            <div class="form-group">
                                <label for="validationFocus">Validation Focus (Optional)</label>
                                <input
                                    type="text"
                                    id="validationFocus"
                                    class="input-field"
                                    placeholder="Example: Check for inconsistencies in vacation policy"
                                >
                                <small class="form-hint">üí° Tip: What should be validated? (e.g., "policy consistency", "data accuracy")</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="validationAgentBtn">
                                    <span class="btn-text">‚úì Validate</span>
                                    <span class="btn-loading" style="display: none;">
                                        <span class="spinner"></span> Validating...
                                    </span>
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearValidation">Clear</button>
                            </div>
                        </form>
                        <div id="validationAgentResult" class="result-panel" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Tab Content: Workflows -->
            <div class="tab-content" id="workflows-tab">
                <div class="panel">
                    <h2>üîÑ Multi-Agent Workflows</h2>
                    <p class="panel-desc">Pre-built workflows orchestrating multiple agents</p>

                    <div style="margin-top: 20px;">
                        <h3>Available Workflows</h3>
                        <div class="quick-links">
                            <div class="link-card">
                                <strong>üë• HR Onboarding</strong>
                                <p>Complete employee onboarding with personalized guides</p>
                            </div>
                            <div class="link-card">
                                <strong>üí¨ CS Ticket Response</strong>
                                <p>Intelligent ticket handling with sentiment analysis</p>
                            </div>
                            <div class="link-card">
                                <strong>‚öñÔ∏è Legal-HR Compliance</strong>
                                <p>Cross-domain compliance checking</p>
                            </div>
                            <div class="link-card">
                                <strong>üí° Simple Q&A</strong>
                                <p>Question answering with validation</p>
                            </div>
                            <div class="link-card">
                                <strong>üîç Multi-Agent Research</strong>
                                <p>Comprehensive multi-perspective analysis</p>
                            </div>
                        </div>
                        <p style="margin-top: 20px; text-align: center;">
                            <a href="/docs#/Workflows" target="_blank" class="btn btn-primary">View Workflow API Documentation ‚Üí</a>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Tab Content: Text Generation -->
            <div class="tab-content" id="generate-tab">
                <div class="panel">
                    <h2>üí¨ AI Text Generation</h2>
                    <p class="panel-desc">Direct LLM text generation without RAG or agents</p>

                    <form id="generateForm" class="form">
                        <div class="form-group">
                            <label for="systemPrompt">System Prompt (Optional)</label>
                            <input
                                type="text"
                                id="systemPrompt"
                                class="input-field"
                                placeholder="You are a Hong Kong legal expert specializing in contract law..."
                            >
                        </div>

                        <div class="form-group">
                            <label for="prompt">Prompt *</label>
                            <textarea
                                id="prompt"
                                class="textarea-field"
                                rows="4"
                                required
                                placeholder="Example: What are the essential elements of a valid employment contract in Hong Kong?"
                            ></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="maxTokens">Max Tokens</label>
                                <input
                                    type="number"
                                    id="maxTokens"
                                    class="input-field"
                                    value="500"
                                    min="50"
                                    max="4096"
                                >
                            </div>

                            <div class="form-group">
                                <label for="temperature">Temperature (0-1)</label>
                                <input
                                    type="number"
                                    id="temperature"
                                    class="input-field"
                                    value="0.3"
                                    min="0"
                                    max="1"
                                    step="0.1"
                                >
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary" id="generateBtn">
                                <span class="btn-text">Generate Response</span>
                                <span class="btn-loading" style="display: none;">
                                    <span class="spinner"></span> Generating...
                                </span>
                            </button>
                            <button type="button" class="btn btn-secondary" id="clearGenerate">Clear</button>
                        </div>
                    </form>

                    <div id="generateResult" class="result-panel" style="display: none;">
                        <div class="result-header">
                            <h3>AI Response</h3>
                            <div class="result-meta" id="generateMeta"></div>
                        </div>
                        <div class="result-content" id="generateResponse"></div>
                        <div class="result-stats" id="generateStats"></div>
                    </div>
                </div>
            </div>

            <!-- Tab Content: Models -->
            <div class="tab-content" id="models-tab">
                <div class="panel">
                    <h2>ü§ñ Available Models</h2>
                    <p class="panel-desc">View all models available in your Ollama instance</p>

                    <button class="btn btn-primary" id="refreshModels">
                        <span class="btn-text">üîÑ Refresh Models</span>
                    </button>

                    <div id="modelsResult" class="models-grid" style="margin-top: 20px;">
                        <p class="text-muted">Click "Refresh Models" to load available models</p>
                    </div>
                </div>
            </div>

            <!-- Tab Content: Documentation -->
            <div class="tab-content" id="docs-tab">
                <div class="panel">
                    <h2>üìö API Documentation</h2>

                    <div class="docs-section">
                        <h3>Quick Links</h3>
                        <div class="quick-links">
                            <a href="http://localhost:8000/docs" target="_blank" class="link-card">
                                üìñ Interactive API Docs (Swagger)
                            </a>
                            <a href="http://localhost:8000/redoc" target="_blank" class="link-card">
                                üìö ReDoc Documentation
                            </a>
                            <a href="http://localhost:6333/dashboard" target="_blank" class="link-card">
                                üîç Qdrant Vector DB Dashboard
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Vault AI Platform v2.0.0 - Multi-Domain Agentic AI System</p>
            <p class="footer-meta">Model: <span id="currentModel">Loading...</span> | API: <span id="apiVersion">v2.0.0</span> | <a href="/docs" target="_blank">API Docs</a></p>
        </footer>
    </div>

    <script src="static/js/app.js"></script>
</body>
</html>
